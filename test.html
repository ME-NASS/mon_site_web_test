<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Casino Royale - Jeux Gratuits</title>
  <link rel="icon" type="image/png" href="assets/machine-a-jackpot.png" sizes="16x16" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* CSS global */
    :root {
      --primary: #00ff99;
      --secondary: #ff0080;
      --dark: #0a0a0a;
      --light: #ffffff;
      --gradient: linear-gradient(135deg, var(--secondary), #7928ca);
    }
    
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background: var(--gradient);
      color: var(--light);
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    /* Barre de navigation */
    .navbar {
      background-color: rgba(0,0,0,0.8);
      padding: 15px 0;
      position: sticky;
      top: 0;
      z-index: 100;
      border-bottom: 2px solid var(--primary);
    }
    
    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .logo {
      font-size: 2rem;
      font-weight: bold;
      color: var(--primary);
      text-shadow: 0 0 5px rgba(0,255,153,0.5);
    }
    
    .user-menu {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    
    .balance {
      background: rgba(0,0,0,0.6);
      padding: 8px 15px;
      border-radius: 20px;
      font-weight: bold;
      border: 1px solid var(--primary);
    }
    
    .balance i {
      color: gold;
      margin-right: 5px;
    }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .btn-primary {
      background: var(--primary);
      color: var(--dark);
    }
    
    .btn-primary:hover {
      background: #00cc7a;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,255,153,0.4);
    }
    
    /* Banni√®re promotionnelle */
    .promo-banner {
      background: linear-gradient(90deg, var(--secondary), #7928ca);
      padding: 15px;
      text-align: center;
      font-weight: bold;
      position: relative;
      overflow: hidden;
    }
    
    .promo-banner p {
      margin: 0;
      position: relative;
      z-index: 1;
      animation: scrollText 20s linear infinite;
    }
    
    @keyframes scrollText {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    
    /* Conteneur principal */
    .casino-container {
      max-width: 1200px;
      margin: 20px auto;
      padding: 20px;
      background-color: rgba(0,0,0,0.7);
      border-radius: 20px;
      box-shadow: 0 0 20px #fff;
    }
    
    /* En-t√™te */
    .casino-header {
      text-align: center;
      padding: 20px 0;
      margin-bottom: 30px;
      border-bottom: 3px solid var(--primary);
      position: relative;
    }
    
    .casino-header h1 {
  font-size: 3rem;
  margin: 0;
  text-shadow: 0 0 10px rgba(255,255,255,0.5);
  background: linear-gradient(to right, var(--primary), var(--secondary));
  /* Version moderne d'abord */
  background-clip: text;
  -webkit-background-clip: text; /* Fallback pour anciens navigateurs */
  -webkit-text-fill-color: transparent;
  color: transparent; /* Version standard */
}
    
    .welcome-text {
      font-size: 1.5rem;
      margin-top: 10px;
    }
    
    /* Grille de jeux */
    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 25px;
      padding: 20px;
    }
    
    .game-card {
      background: rgba(0,0,0,0.5);
      border: 2px solid #fff;
      border-radius: 15px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .game-card::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        to bottom right,
        rgba(255,255,255,0) 0%,
        rgba(255,255,255,0.1) 50%,
        rgba(255,255,255,0) 100%
      );
      transform: rotate(30deg);
      transition: all 0.5s;
    }
    
    .game-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 10px 20px rgba(0,255,153,0.3);
      border-color: var(--primary);
    }
    
    .game-card:hover::before {
      left: 100%;
    }
    
    .game-icon {
      font-size: 3rem;
      margin-bottom: 15px;
      animation: float 3s ease-in-out infinite;
    }
    
    .game-card h3 {
      color: var(--primary);
      margin: 10px 0;
    }
    
    .game-card .play-btn {
      display: none;
      margin-top: 15px;
      width: 100%;
    }
    
    .game-card:hover .play-btn {
      display: block;
    }
    
    /* Machine √† sous */
    .slot-machine {
      display: none;
      background: rgba(0,0,0,0.8);
      padding: 30px;
      border-radius: 20px;
      margin: 20px auto;
      max-width: 600px;
      text-align: center;
      border: 3px solid var(--primary);
      box-shadow: 0 0 30px rgba(0,255,153,0.3);
    }
    
    .slot-machine.active {
      display: block;
    }
    
    .slot-reels {
      display: flex;
      justify-content: center;
      margin: 30px 0;
    }
    
    .reel {
      background-color: #222;
      border: 4px solid #fff;
      border-radius: 10px;
      font-size: 60px;
      width: 100px;
      height: 100px;
      margin: 0 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.5s ease-in-out;
    }
    
    /* Roulette */
    .roulette-container {
      display: none;
      background: rgba(0,0,0,0.8);
      padding: 30px;
      border-radius: 20px;
      margin: 20px auto;
      max-width: 800px;
      text-align: center;
      border: 3px solid var(--primary);
      box-shadow: 0 0 30px rgba(0,255,153,0.3);
    }
    
    .roulette-container.active {
      display: block;
    }
    
    .roulette-wheel {
      width: 300px;
      height: 300px;
      border-radius: 50%;
      background: #0a5c36;
      margin: 0 auto 30px;
      position: relative;
      border: 5px solid goldenrod;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    
    .roulette-ball {
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 2;
    }
    
    .roulette-numbers {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
    }
    
    .roulette-number {
      position: absolute;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: white;
    }
    
    /* Blackjack */
    .blackjack-container {
      display: none;
      background: rgba(0,0,0,0.8);
      padding: 30px;
      border-radius: 20px;
      margin: 20px auto;
      max-width: 800px;
      text-align: center;
      border: 3px solid var(--primary);
      box-shadow: 0 0 30px rgba(0,255,153,0.3);
    }
    
    .blackjack-container.active {
      display: block;
    }
    
    .blackjack-table {
      background: #0a5c36;
      border-radius: 50%;
      width: 400px;
      height: 400px;
      margin: 0 auto;
      padding: 30px;
      border: 10px solid brown;
      position: relative;
    }
    
    .player-area, .dealer-area {
      position: absolute;
      width: 80%;
      height: 30%;
      background: rgba(0,0,0,0.3);
      border-radius: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }
    
    .player-area {
      bottom: 20px;
      left: 10%;
    }
    
    .dealer-area {
      top: 20px;
      left: 10%;
    }
    
    .card {
      width: 60px;
      height: 90px;
      background: white;
      border-radius: 5px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      color: black;
      box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    }
    
    .card.red {
      color: red;
    }
    
    /* Pied de page */
    .casino-footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid var(--primary);
      text-align: center;
    }
    
    .social-icons {
      margin-top: 15px;
      font-size: 1.5rem;
    }
    
    .social-icons i {
      margin: 0 10px;
      cursor: pointer;
      transition: color 0.3s;
    }
    
    .social-icons i:hover {
      color: var(--primary);
    }
    
    /* Animations */
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    @keyframes win {
      0% { background-color: rgba(0,0,0,0.7); }
      50% { background-color: rgba(0,255,0,0.3); }
      100% { background-color: rgba(0,0,0,0.7); }
    }
    
    /* Popup */
    .popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    
    .popup-content {
      background: var(--dark);
      padding: 30px;
      border-radius: 15px;
      max-width: 500px;
      text-align: center;
      border: 3px solid var(--primary);
      position: relative;
      animation: pulse 1.5s infinite;
    }
    
    .close-popup {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      color: var(--light);
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .nav-container {
        flex-direction: column;
        gap: 15px;
      }
      
      .games-grid {
        grid-template-columns: 1fr;
      }
      
      .blackjack-table {
        width: 300px;
        height: 300px;
      }
    }
  </style>
</head>
<body>
  <!-- Barre de navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">CASINO ROYALE</div>
      <div class="user-menu">
        <div class="balance">
          <i class="fas fa-coins"></i>
          <span id="userBalance">10,000</span> jetons
        </div>
        <button class="btn btn-primary" id="depositBtn">D√©poser</button>
      </div>
    </div>
  </nav>
  
  <!-- Banni√®re promotionnelle -->
  <div class="promo-banner">
    <p>üéÅ NOUVEAUX JOUEURS : 5000 jetons gratuits avec le code WELCOME5000 üéÅ | üèÜ TOURNOI HEBDOMADAIRE : Gagnez jusqu'√† 100 000 jetons ! üèÜ | üî• JACKPOT PROGRESSIF : 1 250 000 jetons ! üî•</p>
  </div>
  
  <!-- Popup de bienvenue -->
  <div class="popup" id="welcomePopup">
    <div class="popup-content">
      <button class="close-popup" id="closeWelcome">&times;</button>
      <h2>BIENVENUE AU CASINO ROYALE!</h2>
      <p>Nous vous offrons <strong>1000 jetons gratuits</strong> pour commencer √† jouer!</p>
      <p>Utilisez le code <strong>WELCOME1000</strong> pour obtenir un bonus suppl√©mentaire!</p>
      <button class="btn btn-primary" id="claimBonus">CLAIMER MON BONUS</button>
    </div>
  </div>
  
  <!-- Popup de d√©p√¥t -->
  <div class="popup" id="depositPopup">
    <div class="popup-content">
      <button class="close-popup" id="closeDeposit">&times;</button>
      <h2>BOOSTEZ VOTRE SOLDE!</h2>
      <p>D√©posez d√®s maintenant et obtenez un bonus de 200%!</p>
      <div class="deposit-options">
        <button class="deposit-option" data-amount="1000">1000 jetons</button>
        <button class="deposit-option" data-amount="5000">5000 jetons</button>
        <button class="deposit-option" data-amount="10000">10 000 jetons</button>
      </div>
      <p>M√©thode de paiement:</p>
      <div class="payment-methods">
        <i class="fab fa-cc-visa"></i>
        <i class="fab fa-cc-mastercard"></i>
        <i class="fab fa-cc-paypal"></i>
      </div>
    </div>
  </div>
  
  <!-- Conteneur principal -->
  <div class="casino-container">
    <header class="casino-header">
      <h1>üé∞ CASINO ROYALE üé∞</h1>
      <p class="welcome-text">Bienvenue dans le plus grand casino en ligne!</p>
    </header>
    
    <!-- Section des jeux -->
    <div class="games-grid">
      <!-- Machine √† sous -->
      <div class="game-card" id="slotGame">
        <div class="game-icon">üé∞</div>
        <h3>Machine √† Sous</h3>
        <p>Essayez votre chance avec notre machine √† sous classique!</p>
        <button class="btn btn-primary play-btn">JOUER</button>
      </div>
      
      <!-- Roulette -->
      <div class="game-card" id="rouletteGame">
        <div class="game-icon">üé°</div>
        <h3>Roulette</h3>
        <p>Faites tourner la roue et misez sur votre chance!</p>
        <button class="btn btn-primary play-btn">JOUER</button>
      </div>
      
      <!-- Blackjack -->
      <div class="game-card" id="blackjackGame">
        <div class="game-icon">üÉè</div>
        <h3>Blackjack</h3>
        <p>Battez le croupier sans d√©passer 21!</p>
        <button class="btn btn-primary play-btn">JOUER</button>
      </div>
      
      <!-- Poker -->
      <div class="game-card" id="pokerGame">
        <div class="game-icon">‚ô†Ô∏è</div>
        <h3>Poker Texas Hold'em</h3>
        <p>Affrontez d'autres joueurs dans ce jeu de strat√©gie!</p>
        <button class="btn btn-primary play-btn">JOUER</button>
      </div>
      
      <!-- Baccarat -->
      <div class="game-card" id="baccaratGame">
        <div class="game-icon">üé¥</div>
        <h3>Baccarat</h3>
        <p>Le jeu pr√©f√©r√© de James Bond!</p>
        <button class="btn btn-primary play-btn">JOUER</button>
      </div>
      
      <!-- Craps -->
      <div class="game-card" id="crapsGame">
        <div class="game-icon">üé≤</div>
        <h3>Craps</h3>
        <p>Lancez les d√©s et esp√©rez la chance!</p>
        <button class="btn btn-primary play-btn">JOUER</button>
      </div>
    </div>
    
    <!-- Jeux individuels (masqu√©s par d√©faut) -->
    <!-- Machine √† sous -->
    <div class="slot-machine" id="slotMachineGame">
      <h2>Machine √† Sous</h2>
      <div class="slot-reels">
        <div class="reel" id="reel1">üçí</div>
        <div class="reel" id="reel2">üçã</div>
        <div class="reel" id="reel3">üçä</div>
      </div>
      <div class="bet-controls">
        <button class="btn bet-btn" data-bet="10">10</button>
        <button class="btn bet-btn" data-bet="50">50</button>
        <button class="btn bet-btn active" data-bet="100">100</button>
        <button class="btn bet-btn" data-bet="500">500</button>
        <button class="btn bet-btn" data-bet="1000">MAX</button>
      </div>
      <button class="btn btn-primary" id="spinButton">TOURNER (100 jetons)</button>
      <p id="resultText"></p>
      <button class="btn" id="backToLobby">Retour au lobby</button>
    </div>
    
    <!-- Roulette -->
    <div class="roulette-container" id="rouletteGameContainer">
      <h2>Roulette</h2>
      <div class="roulette-wheel">
        <div class="roulette-ball"></div>
        <div class="roulette-numbers" id="rouletteNumbers"></div>
      </div>
      <div class="betting-table">
        <!-- Table de mise serait impl√©ment√©e ici -->
      </div>
      <div class="roulette-controls">
        <div class="bet-controls">
          <button class="btn bet-btn" data-bet="10">10</button>
          <button class="btn bet-btn" data-bet="50">50</button>
          <button class="btn bet-btn active" data-bet="100">100</button>
          <button class="btn bet-btn" data-bet="500">500</button>
          <button class="btn bet-btn" data-bet="1000">MAX</button>
        </div>
        <button class="btn btn-primary" id="spinRoulette">JOUER (100 jetons)</button>
        <button class="btn" id="backToLobbyRoulette">Retour au lobby</button>
      </div>
    </div>
    
    <!-- Blackjack -->
    <div class="blackjack-container" id="blackjackGameContainer">
      <h2>Blackjack</h2>
      <div class="blackjack-table">
        <div class="dealer-area" id="dealerHand">
          <div class="card">üÇ†</div>
          <div class="card">üÇ†</div>
        </div>
        <div class="player-area" id="playerHand">
          <div class="card">üÇ†</div>
          <div class="card">üÇ†</div>
        </div>
      </div>
      <div class="blackjack-controls">
        <div class="bet-controls">
          <button class="btn bet-btn" data-bet="10">10</button>
          <button class="btn bet-btn" data-bet="50">50</button>
          <button class="btn bet-btn active" data-bet="100">100</button>
          <button class="btn bet-btn" data-bet="500">500</button>
          <button class="btn bet-btn" data-bet="1000">MAX</button>
        </div>
        <button class="btn btn-primary" id="dealHand">DISTRIBUER (100 jetons)</button>
        <div class="game-actions" id="gameActions" style="display: none;">
          <button class="btn btn-primary" id="hitBtn">CARTE</button>
          <button class="btn btn-primary" id="standBtn">RESTER</button>
          <button class="btn btn-primary" id="doubleBtn">DOUBLER</button>
        </div>
        <button class="btn" id="backToLobbyBlackjack">Retour au lobby</button>
      </div>
    </div>
    
    <!-- Autres jeux seraient impl√©ment√©s de mani√®re similaire -->
    
    <!-- Banni√®re de promotion -->
    <div class="promo-banner">
      <p>üî• JACKPOT PROGRESSIF : <span id="jackpotAmount">1,250,000</span> jetons ! Tentez votre chance maintenant ! üî•</p>
    </div>
    
    <!-- Section VIP -->
    <div class="vip-section">
      <h2><i class="fas fa-crown"></i> DEVENIR MEMBRE VIP</h2>
      <p>Rejoignez notre programme VIP et b√©n√©ficiez d'avantages exclusifs!</p>
      <ul class="vip-benefits">
        <li><i class="fas fa-check"></i> Cashback jusqu'√† 20%</li>
        <li><i class="fas fa-check"></i> Bonus de d√©p√¥t personnalis√©s</li>
        <li><i class="fas fa-check"></i> Conseiller VIP d√©di√©</li>
        <li><i class="fas fa-check"></i> Invitations √† des √©v√©nements exclusifs</li>
      </ul>
      <button class="btn btn-primary">REJOINDRE LE CLUB VIP</button>
    </div>
    
    <!-- Pied de page -->
    <footer class="casino-footer">
      <p>¬© 2023 Casino Royale - Jeu responsable - 18+ seulement</p>
      <div class="social-icons">
        <i class="fab fa-facebook"></i>
        <i class="fab fa-twitter"></i>
        <i class="fab fa-instagram"></i>
      </div>
    </footer>
  </div>

  <script>
    // Variables globales
    let balance = 10000;
    let currentBet = 100;
    let currentGame = null;
    let jackpotAmount = 1250000;
    
    // √âl√©ments DOM
    const userBalanceEl = document.getElementById('userBalance');
    const depositBtn = document.getElementById('depositBtn');
    const welcomePopup = document.getElementById('welcomePopup');
    const closeWelcome = document.getElementById('closeWelcome');
    const claimBonus = document.getElementById('claimBonus');
    const depositPopup = document.getElementById('depositPopup');
    const closeDeposit = document.getElementById('closeDeposit');
    const jackpotAmountEl = document.getElementById('jackpotAmount');
    
    // Initialisation
    document.addEventListener('DOMContentLoaded', () => {
      // Afficher la popup de bienvenue
      setTimeout(() => {
        welcomePopup.style.display = 'flex';
      }, 1000);
      
      // Mettre √† jour le solde affich√©
      updateBalance();
      
      // Initialiser les jeux
      initSlotMachine();
      initRoulette();
      initBlackjack();
      
      // Gestionnaires d'√©v√©nements pour la navigation
      setupGameNavigation();
    });
    
    // Fonctions utilitaires
    function updateBalance() {
      userBalanceEl.textContent = balance.toLocaleString();
      jackpotAmountEl.textContent = jackpotAmount.toLocaleString();
    }
    
    function addToBalance(amount) {
      balance += amount;
      updateBalance();
      if (amount > 0) {
        showWinNotification(`+${amount.toLocaleString()} jetons!`);
      }
    }
    
    function deductFromBalance(amount) {
      if (balance >= amount) {
        balance -= amount;
        updateBalance();
        return true;
      } else {
        alert('Solde insuffisant! Veuillez d√©poser des fonds.');
        depositBtn.click();
        return false;
      }
    }
    
    function showWinNotification(message) {
      const notification = document.createElement('div');
      notification.className = 'win-notification';
      notification.textContent = message;
      notification.style.position = 'fixed';
      notification.style.top = '20px';
      notification.style.right = '20px';
      notification.style.background = 'rgba(0,255,153,0.9)';
      notification.style.color = '#000';
      notification.style.padding = '15px';
      notification.style.borderRadius = '5px';
      notification.style.zIndex = '1000';
      notification.style.fontWeight = 'bold';
      notification.style.animation = 'pulse 1s infinite';
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.transition = 'all 0.5s';
        notification.style.opacity = '0';
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 500);
      }, 3000);
    }
    
    // Gestion des popups
    depositBtn.addEventListener('click', () => {
      depositPopup.style.display = 'flex';
    });
    
    closeWelcome.addEventListener('click', () => {
      welcomePopup.style.display = 'none';
    });
    
    claimBonus.addEventListener('click', () => {
      addToBalance(1000);
      welcomePopup.style.display = 'none';
      showWinNotification('Bonus de 1000 jetons cr√©dit√©s!');
    });
    
    closeDeposit.addEventListener('click', () => {
      depositPopup.style.display = 'none';
    });
    
    // Navigation entre les jeux
    function setupGameNavigation() {
      // Cacher tous les jeux au d√©part
      document.querySelectorAll('.slot-machine, .roulette-container, .blackjack-container').forEach(el => {
        el.style.display = 'none';
      });
      
      // Afficher le lobby
      document.querySelector('.games-grid').style.display = 'grid';
      
      // Gestionnaires pour les boutons de jeu
      document.getElementById('slotGame').addEventListener('click', () => {
        document.querySelector('.games-grid').style.display = 'none';
        document.getElementById('slotMachineGame').style.display = 'block';
        currentGame = 'slots';
      });
      
      document.getElementById('rouletteGame').addEventListener('click', () => {
        document.querySelector('.games-grid').style.display = 'none';
        document.getElementById('rouletteGameContainer').style.display = 'block';
        currentGame = 'roulette';
      });
      
      document.getElementById('blackjackGame').addEventListener('click', () => {
        document.querySelector('.games-grid').style.display = 'none';
        document.getElementById('blackjackGameContainer').style.display = 'block';
        currentGame = 'blackjack';
      });
      
      // Boutons de retour
      document.getElementById('backToLobby').addEventListener('click', backToLobby);
      document.getElementById('backToLobbyRoulette').addEventListener('click', backToLobby);
      document.getElementById('backToLobbyBlackjack').addEventListener('click', backToLobby);
    }
    
    function backToLobby() {
      document.querySelectorAll('.slot-machine, .roulette-container, .blackjack-container').forEach(el => {
        el.style.display = 'none';
      });
      document.querySelector('.games-grid').style.display = 'grid';
      currentGame = null;
    }
    
    // Gestion des mises
    document.querySelectorAll('.bet-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        // Retirer la classe active de tous les boutons
        document.querySelectorAll('.bet-btn').forEach(b => {
          b.classList.remove('active');
        });
        
        // Ajouter la classe active au bouton cliqu√©
        this.classList.add('active');
        
        // Mettre √† jour la mise actuelle
        const bet = this.dataset.bet === 'MAX' ? balance : parseInt(this.dataset.bet);
        currentBet = bet;
        
        // Mettre √† jour le texte des boutons de jeu
        updateGameButtons();
      });
    });
    
    function updateGameButtons() {
      document.getElementById('spinButton').textContent = `TOURNER (${currentBet.toLocaleString()} jetons)`;
      document.getElementById('spinRoulette').textContent = `JOUER (${currentBet.toLocaleString()} jetons)`;
      document.getElementById('dealHand').textContent = `DISTRIBUER (${currentBet.toLocaleString()} jetons)`;
    }
    
    // Machine √† sous
    function initSlotMachine() {
      const symbols = ['üçí', 'üçã', 'üçä', '‚≠ê', 'üîî', '7Ô∏è‚É£'];
      const reels = [
        document.getElementById('reel1'),
        document.getElementById('reel2'),
        document.getElementById('reel3')
      ];
      const resultText = document.getElementById('resultText');
      const spinButton = document.getElementById('spinButton');
      
      spinButton.addEventListener('click', () => {
        if (!deductFromBalance(currentBet)) return;
        
        spinButton.disabled = true;
        resultText.textContent = '';
        
        const results = [];
        
        reels.forEach((reel, index) => {
          const symbol = symbols[Math.floor(Math.random() * symbols.length)];
          results.push(symbol);
          
          // Animation
          reel.style.transform = 'rotateX(360deg)';
          setTimeout(() => {
            reel.textContent = symbol;
            reel.style.transform = 'rotateX(0deg)';
          }, 300 + index * 100);
        });
        
        setTimeout(() => {
          checkSlotWin(results);
          spinButton.disabled = false;
        }, 800);
      });
      
      function checkSlotWin(results) {
        const [a, b, c] = results;
        let winAmount = 0;
        
        if (a === b && b === c) {
          // Jackpot pour 3 symboles identiques
          if (a === '7Ô∏è‚É£') {
            winAmount = currentBet * 50;
            resultText.textContent = `MEGA JACKPOT!!! ${winAmount.toLocaleString()} jetons!`;
            // Contribuer au jackpot progressif
            jackpotAmount += currentBet;
            updateBalance();
          } else {
            winAmount = currentBet * 10;
            resultText.textContent = `JACKPOT! ${winAmount.toLocaleString()} jetons!`;
          }
          resultText.style.color = '#00ff00';
          document.getElementById('slotMachineGame').style.animation = 'win 1s 3';
        } else if (a === b || b === c || a === c) {
          // Gain pour 2 symboles identiques
          winAmount = currentBet * 2;
          resultText.textContent = `Gagn√©! ${winAmount.toLocaleString()} jetons!`;
          resultText.style.color = '#ffff00';
        } else {
          // Perdu
          resultText.textContent = 'Perdu... Essayez encore!';
          resultText.style.color = '#ff3333';
        }
        
        if (winAmount > 0) {
          addToBalance(winAmount);
        }
      }
    }
    
 // Roulette - Version corrig√©e
function initRoulette() {
  const rouletteNumbers = document.getElementById('rouletteNumbers');
  const spinRouletteBtn = document.getElementById('spinRoulette');
  const numbers = [
    { number: 0, color: 'green' },
    { number: 32, color: 'red' }, { number: 15, color: 'black' }, { number: 19, color: 'red' },
    { number: 4, color: 'black' }, { number: 21, color: 'red' }, { number: 2, color: 'black' },
    { number: 25, color: 'red' }, { number: 17, color: 'black' }, { number: 34, color: 'red' },
    { number: 6, color: 'black' }, { number: 27, color: 'red' }, { number: 13, color: 'black' },
    { number: 36, color: 'red' }, { number: 11, color: 'black' }, { number: 30, color: 'red' },
    { number: 8, color: 'black' }, { number: 23, color: 'red' }, { number: 10, color: 'black' },
    { number: 5, color: 'red' }, { number: 24, color: 'black' }, { number: 16, color: 'red' },
    { number: 33, color: 'black' }, { number: 1, color: 'red' }, { number: 20, color: 'black' },
    { number: 14, color: 'red' }, { number: 31, color: 'black' }, { number: 9, color: 'red' },
    { number: 22, color: 'black' }, { number: 18, color: 'red' }, { number: 29, color: 'black' },
    { number: 7, color: 'red' }, { number: 28, color: 'black' }, { number: 12, color: 'red' },
    { number: 35, color: 'black' }, { number: 3, color: 'red' }, { number: 26, color: 'black' }
  ];

  // Cr√©ation des nombres sur la roulette
  numbers.forEach((num, index) => {
    const numberEl = document.createElement('div');
    numberEl.className = 'roulette-number';
    numberEl.textContent = num.number;
    numberEl.style.backgroundColor = num.color;
    numberEl.style.transform = `rotate(${index * (360 / numbers.length)}deg) translate(130px) rotate(-${index * (360 / numbers.length)}deg)`;
    rouletteNumbers.appendChild(numberEl);
  });

  // Le reste du code de la roulette...
  spinRouletteBtn.addEventListener('click', () => {
    // ... code existant pour faire tourner la roulette
  });
}

numbers.forEach((num, index) => {
  const numberEl = document.createElement('div');
  numberEl.className = 'roulette-number';
  numberEl.textContent = num.number;
  numberEl.style.backgroundColor = num.color;
  numberEl.style.transform = `
    rotate(${index * (360 / numbers.length)}deg) 
    translate(130px) 
    rotate(-${index * (360 / numbers.length)}deg)
  `;
  rouletteNumbers.appendChild(numberEl);
}); // <-- Cette parenth√®se ferme le forEach

  spinRouletteBtn.addEventListener('click', () => {
    if (!deductFromBalance(currentBet)) return;
    
    spinRouletteBtn.disabled = true;
    const ball = document.querySelector('.roulette-ball');
    const rotations = 5 + Math.random() * 5; // 5-10 rotations
    const winningIndex = Math.floor(Math.random() * numbers.length);
    const winningNumber = numbers[winningIndex];
    
    // Animation de la balle
    ball.style.transition = 'all 4s cubic-bezier(0.1, 0.4, 0.9, 0.6)';
    ball.style.transform = `rotate(${rotations * 360 + winningIndex * (360 / numbers.length)}deg) translate(130px) rotate(-${rotations * 360 + winningIndex * (360 / numbers.length)}deg)`;
    
    setTimeout(() => {
      checkRouletteWin(winningNumber);
      spinRouletteBtn.disabled = false;
    }, 4000);
  });

  function checkRouletteWin(winningNumber) {
    let winAmount = 0;
    let winMessage = `La bille s'arr√™te sur: ${winningNumber.number} ${winningNumber.color.toUpperCase()}`;
    
    // Simple mise sur couleur (pour l'exemple)
    if (winningNumber.color === 'red') {
      winAmount = currentBet * 2;
      winMessage += ` - Vous gagnez ${winAmount.toLocaleString()} jetons!`;
    } else if (winningNumber.number === 0) {
      winAmount = currentBet * 35;
      winMessage += ` - Z√âRO! Vous gagnez ${winAmount.toLocaleString()} jetons!`;
    } else {
      winMessage += " - Vous perdez... Essayez encore!";
    }
    
    // Afficher le r√©sultat
    const resultEl = document.createElement('div');
    resultEl.textContent = winMessage;
    resultEl.style.color = winAmount > 0 ? '#00ff00' : '#ff3333';
    resultEl.style.marginTop = '15px';
    resultEl.style.fontWeight = 'bold';
    document.querySelector('.roulette-controls').appendChild(resultEl);
    
    if (winAmount > 0) {
      addToBalance(winAmount);
    }
    
    // Supprimer le r√©sultat apr√®s 5 secondes
    setTimeout(() => {
      resultEl.remove();
    }, 5000);
  }

  // Blackjack
  function initBlackjack() {
    const deck = createDeck();
    let playerHand = [];
    let dealerHand = [];
    let gameInProgress = false;
    
    const dealHandBtn = document.getElementById('dealHand');
    const hitBtn = document.getElementById('hitBtn');
    const standBtn = document.getElementById('standBtn');
    const doubleBtn = document.getElementById('doubleBtn');
    const gameActions = document.getElementById('gameActions');
    const playerArea = document.getElementById('playerHand');
    const dealerArea = document.getElementById('dealerHand');
    
    dealHandBtn.addEventListener('click', () => {
      if (gameInProgress) return;
      if (!deductFromBalance(currentBet)) return;
      
      // Pr√©parer le jeu
      gameInProgress = true;
      playerHand = [];
      dealerHand = [];
      playerArea.innerHTML = '';
      dealerArea.innerHTML = '';
      
      // Distribuer les cartes
      playerHand.push(drawCard(deck));
      dealerHand.push(drawCard(deck));
      playerHand.push(drawCard(deck));
      dealerHand.push(drawCard(deck, true)); // Carte cach√©e pour le croupier
      
      // Afficher les cartes
      displayCards();
      
      // V√©rifier blackjack imm√©diat
      if (calculateHandValue(playerHand) === 21) {
        endGame("BLACKJACK! Vous gagnez 2.5x votre mise!", currentBet * 2.5);
        return;
      }
      
      // Activer les options de jeu
      dealHandBtn.style.display = 'none';
      gameActions.style.display = 'block';
    });
    
    hitBtn.addEventListener('click', () => {
      playerHand.push(drawCard(deck));
      displayCards();
      
      const playerValue = calculateHandValue(playerHand);
      if (playerValue > 21) {
        endGame("Vous avez d√©pass√© 21! Vous perdez.", 0);
      } else if (playerValue === 21) {
        standBtn.click(); // Auto-stand sur 21
      }
    });
    
    standBtn.addEventListener('click', () => {
      // Retourner la carte cach√©e du croupier
      dealerHand[1].hidden = false;
      displayCards();
      
      // Le croupier joue
      dealerPlay();
    });
    
    doubleBtn.addEventListener('click', () => {
      if (playerHand.length !== 2) return;
      if (!deductFromBalance(currentBet)) return;
      
      currentBet *= 2;
      playerHand.push(drawCard(deck));
      displayCards();
      
      const playerValue = calculateHandValue(playerHand);
      if (playerValue > 21) {
        endGame("Vous avez d√©pass√© 21! Vous perdez.", 0);
      } else {
        standBtn.click();
      }
    });
    
    function createDeck() {
      const suits = ['‚ô•', '‚ô¶', '‚ô£', '‚ô†'];
      const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
      const deck = [];
      
      for (let suit of suits) {
        for (let value of values) {
          deck.push({ suit, value });
        }
      }
      
      // M√©langer le deck
      return shuffleDeck(deck);
    }
    
    function shuffleDeck(deck) {
      for (let i = deck.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [deck[i], deck[j]] = [deck[j], deck[i]];
      }
      return deck;
    }
    
    function drawCard(deck, hidden = false) {
      const card = deck.pop();
      if (deck.length < 15) {
        // Re-m√©langer si le deck est presque vide
        deck.push(...createDeck());
      }
      return { ...card, hidden };
    }
    
    function displayCards() {
      playerArea.innerHTML = '';
      dealerArea.innerHTML = '';
      
      playerHand.forEach(card => {
        const cardEl = createCardElement(card);
        playerArea.appendChild(cardEl);
      });
      
      dealerHand.forEach(card => {
        const cardEl = createCardElement(card);
        dealerArea.appendChild(cardEl);
      });
      
      // Afficher les totaux
      const playerTotal = document.createElement('div');
      playerTotal.textContent = `Total: ${calculateHandValue(playerHand)}`;
      playerTotal.style.color = 'white';
      playerTotal.style.marginTop = '10px';
      playerArea.appendChild(playerTotal);
      
      // Ne montrer que la premi√®re carte du croupier si la partie est en cours
      if (gameInProgress && dealerHand[1].hidden) {
        const dealerTotal = document.createElement('div');
        dealerTotal.textContent = `Total: ${getCardValue(dealerHand[0])}`;
        dealerTotal.style.color = 'white';
        dealerTotal.style.marginTop = '10px';
        dealerArea.appendChild(dealerTotal);
      } else {
        const dealerTotal = document.createElement('div');
        dealerTotal.textContent = `Total: ${calculateHandValue(dealerHand)}`;
        dealerTotal.style.color = 'white';
        dealerTotal.style.marginTop = '10px';
        dealerArea.appendChild(dealerTotal);
      }
    }
    
    function createCardElement(card) {
      const cardEl = document.createElement('div');
      cardEl.className = 'card';
      
      if (card.hidden) {
        cardEl.textContent = 'üÇ†';
        cardEl.style.background = 'linear-gradient(135deg, #ff0080, #7928ca)';
      } else {
        cardEl.textContent = getCardSymbol(card);
        if (card.suit === '‚ô•' || card.suit === '‚ô¶') {
          cardEl.classList.add('red');
        }
      }
      
      return cardEl;
    }
    
    function getCardSymbol(card) {
      const suitSymbols = {
        '‚ô•': 'H', '‚ô¶': 'D', '‚ô£': 'C', '‚ô†': 'S'
      };
      return card.value + suitSymbols[card.suit];
    }
    
    function calculateHandValue(hand) {
      let value = 0;
      let aces = 0;
      
      for (let card of hand) {
        if (card.hidden) continue;
        
        const cardValue = getCardValue(card);
        value += cardValue;
        if (cardValue === 11) aces++;
      }
      
      // G√©rer les As souples
      while (value > 21 && aces > 0) {
        value -= 10;
        aces--;
      }
      
      return value;
    }
    
    function getCardValue(card) {
      if (card.value === 'A') return 11;
      if (['K', 'Q', 'J'].includes(card.value)) return 10;
      return parseInt(card.value);
    }
    
    function dealerPlay() {
      // Retourner la carte cach√©e
      dealerHand[1].hidden = false;
      displayCards();
      
      let dealerValue = calculateHandValue(dealerHand);
      
      // Le croupier tire jusqu'√† 17 ou plus
      const drawInterval = setInterval(() => {
        if (dealerValue < 17) {
          dealerHand.push(drawCard(deck));
          displayCards();
          dealerValue = calculateHandValue(dealerHand);
        } else {
          clearInterval(drawInterval);
          determineWinner();
        }
      }, 1000);
    }
    
    function determineWinner() {
      const playerValue = calculateHandValue(playerHand);
      const dealerValue = calculateHandValue(dealerHand);
      let winAmount = 0;
      let message = '';
      
      if (playerValue > 21) {
        message = "Vous avez d√©pass√© 21! Vous perdez.";
      } else if (dealerValue > 21) {
        winAmount = currentBet * 2;
        message = `Le croupier a d√©pass√© 21! Vous gagnez ${winAmount.toLocaleString()} jetons!`;
      } else if (playerValue > dealerValue) {
        winAmount = currentBet * 2;
        message = `Vous avez ${playerValue} contre ${dealerValue}! Vous gagnez ${winAmount.toLocaleString()} jetons!`;
      } else if (playerValue === dealerValue) {
        winAmount = currentBet;
        message = `√âgalit√© ${playerValue}-${dealerValue}! Vous r√©cup√©rez votre mise.`;
      } else {
        message = `Vous avez ${playerValue} contre ${dealerValue}! Vous perdez.`;
      }
      
      endGame(message, winAmount);
    }
    
    function endGame(message, winAmount) {
      gameInProgress = false;
      
      // Afficher le r√©sultat
      const resultEl = document.createElement('div');
      resultEl.textContent = message;
      resultEl.style.color = winAmount > currentBet ? '#00ff00' : winAmount > 0 ? '#ffff00' : '#ff3333';
      resultEl.style.marginTop = '15px';
      resultEl.style.fontWeight = 'bold';
      resultEl.style.fontSize = '1.2rem';
      document.querySelector('.blackjack-controls').appendChild(resultEl);
      
      if (winAmount > 0) {
        addToBalance(winAmount);
      }
      
      // R√©initialiser pour la prochaine partie
      setTimeout(() => {
        dealHandBtn.style.display = 'block';
        gameActions.style.display = 'none';
        resultEl.remove();
      }, 5000);
    }
  }

  // Techniques d'engagement suppl√©mentaires
  let inactivityTimer;
  
  function resetInactivityTimer() {
    clearTimeout(inactivityTimer);
    inactivityTimer = setTimeout(() => {
      showInactivityPopup();
    }, 300000); // 5 minutes d'inactivit√©
  }
  
  function showInactivityPopup() {
    const popup = document.createElement('div');
    popup.className = 'popup';
    popup.style.display = 'flex';
    popup.innerHTML = `
      <div class="popup-content">
        <h2>Vous nous manquez!</h2>
        <p>Revenez jouer et recevez 100 jetons gratuits!</p>
        <button class="btn btn-primary" id="claimInactivityBonus">PRENDRE MON BONUS</button>
      </div>
    `;
    document.body.appendChild(popup);
    
    document.getElementById('claimInactivityBonus').addEventListener('click', () => {
      addToBalance(100);
      showWinNotification('Bonus de 100 jetons cr√©dit√©s!');
      popup.remove();
      resetInactivityTimer();
    });
  }
  
  // D√©tection d'inactivit√©
  document.addEventListener('mousemove', resetInactivityTimer);
  document.addEventListener('keypress', resetInactivityTimer);
  resetInactivityTimer();
  
  // Bonus al√©atoires
  setInterval(() => {
    if (Math.random() < 0.01) { // 1% de chance toutes les 30 secondes
      showRandomBonus();
    }
  }, 30000);
  
  function showRandomBonus() {
    const bonuses = [
      { amount: 50, message: "Bonus surprise de 50 jetons!" },
      { amount: 100, message: "Cadeau sp√©cial: 100 jetons gratuits!" },
      { amount: 200, message: "Jackpot surprise! 200 jetons pour vous!" }
    ];
    
    const bonus = bonuses[Math.floor(Math.random() * bonuses.length)];
    addToBalance(bonus.amount);
    showWinNotification(bonus.message);
  }
  
  // Syst√®me de niveaux et r√©compenses
  let playerXP = 0;
  let playerLevel = 1;
  
  function addXP(amount) {
    playerXP += amount;
    const xpNeeded = playerLevel * 1000;
    
    if (playerXP >= xpNeeded) {
      playerLevel++;
      playerXP = 0;
      const levelUpBonus = playerLevel * 500;
      addToBalance(levelUpBonus);
      showWinNotification(`Niveau ${playerLevel} atteint! ${levelUpBonus.toLocaleString()} jetons bonus!`);
    }
  }
  
  document.addEventListener('DOMContentLoaded', () => {
  // Variables globales
  
  // Fonctions utilitaires
  
  // Initialisation des jeux:
  initSlotMachine();
  initRoulette(); 
  initBlackjack();
  
  // Gestion des √©v√©nements
  
  // Syst√®me XP (√† la toute fin)
  document.getElementById('spinButton')?.addEventListener('click', () => addXP(10));
  document.getElementById('spinRoulette')?.addEventListener('click', () => addXP(15));
  document.getElementById('dealHand')?.addEventListener('click', () => addXP(20));
}); // Fermeture finale 
    </script>